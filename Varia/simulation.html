<html>
Lauri Levanto
<h2>Simulation of annealing</h2>

<h3>Summary</h3>

 A simple simulation model of annealing process, made on Excel sheet is described.
 Some aspects are visualized with that model. It is also compared to BE  annealing
 chart 2009 to test the validity. The fit was reasonable.
 
 <h3>Hidden variables</h3>
 In engineering models, some less important factors are often omitted for simplification.
 That is ridiculed in the saying "Assuming a spherical cow" 
 (or spherical sheep like Lani prefers:-). A spherical cow has no horns nor hoofs,
 likewise following simplifications are made in this model:

 <table border>
   <tr>
   <td> A </td>
     <td> AFAP cooling to annealing soak is "instant"</td>
     <td> The kiln is cooled AFAP from an uniform working temperature,<br>
     the glass sheet preserving that temperature everywhere. <br>
     If not, the process begins earlier and real life soak time is  shorter.</td> 
   </tr>
   <tr>
      <td> B </td>
      <td> The sheet is large </td>
      <td> meaning that cooling from edges can be ignored.
      If not, cooling from several directions maybe faster.
      For thick 3D glass pieces this is important.</td>    
   </tr> 
   <tr>
      <tD> C </td>
      <td> The air temperature <br>
      is next to the sheet</td>
      <td> Assumption that the displayed kiln temperature <br>
      equals the air temperature at the glass surface.
      The convection current is assumed to remove a hot laminar layer. <br>
      The air temperature in the model can be adjusted 
      if better information is available </td>    
   </tr>
   <tr> 
      <td> D </td>
      <td> The glass is cooled from both sides</td>
      <td> This is a major assumption. For thin glass <br>
      cooling the shelf plays a major role. With thick glass the relative effect
      of the shelf is smaller.</td>
   </tr>
   <tr>
      <td> E </td> 
      <td> BE 3" schedule is fairly accurate</td>
      <td> The simulation method gives only relative values. 
      The 3" first ramp time is used to scale the results into real world</td> 
   </tr>
 </table>
<h3>The Model</h3>

This article describes a simple method to simulate some features of the annealing process.
In descriptive mode it relies on two known thermodynamic facts. <br>
1. Heat flows from hot to cold <br>
2. The heat transfer rate in uniform material is proportional to thermal difference.
<br>
From 1. follows that the cooling takes place from surface inwards. 
It is sometimes easier to visualize how "the cold creeps in". <br>
From 2. follows that at any point in the sheet the temperature approaches 
the average of neighbouring points.
If a point is hotter than some  neighbours 
 then heat loss in that point is greater than the gain.
 If a point is cooler, it gives out less than it receives.
<p/>
Now we can build a simple model. <br>
We concentrate on a line across the sheet. This line is divided to 8 segments and
a cubical block inside the sheet is assigned to each segment. We number them S1,S2...s8.
<p/>
<img src="./simufig-1.jpg"> Fig 1 picture of the model</img>
<p/>
If our working temperature was 800 C and assumption A above is followed, 
all segments s1,s2...s8 have the same temperature
800 C to begin with, while air on both sides is 482 C. The glass can cool only trough 
outmost segments s1 and s8, because the temperature of laterally adjacent neighbouring
cubes is always the same.
 According fact 2 above we can calculate the thermal distribution over time.
<p/>
<img src="./simufig-4.jpg"> Table 1 </img>
<p/>
The first row is the initial state of annealing soak. 
The next row is after one time unit, when all values are
re-calculated as an average of the neighbours on the row above. 
This you see if you look
at the blue values that are the average of the red values on the previous row.
The same procedure is followedin the rows below. Onlu first 5 rows are displayed.
<p/>
The same we can show as a graph
<p/>
<img src="./simufig-5.jpg"> Fig 2.Temperature gradient during soak</img>
<p/>
The temperatue profiles through the sheet are displayed at 10 time unit intervals.
We can also have another view. 
<p/>
<img src="./simufig-2.jpg"> Fig 3. temperature drop during anneal soak </img>
<p/>
The upper pink curve is the total heat load over time. 
The blue curve is the temperature difference of core and surface. 
The soak is complete when this value has dropped to 5C or less.

<h3> Process temp influence</h3>
The catch is that the simulation does not include real thickness of the glass 
nor real length of the time units. It can be used for comparative purposes, however.
<p/>
<img src="./simufig-6.jpg">
 Fig 4. Temperature gradients with different working temperatures. </img>
<p/>
We assumed that ASAP was immediate in simulation and the annealing soak begins when
the whole glass is in process temperature but kiln air in soak temperature.
In fig 4 the blue curve is the temperature delta 
starting from 950 C casting temperature.
The green is frm 800 C full fuse temperature and the red is from 650 slump temperature.
The curves converge quite rapidly and the end lengths differ only 10 per cent.
.

<h3>Effect of thickness</h3>

The model has arbitrary values for thickness and time. However, if we keep the
size of distance units (block size in fig 1) constant 
the time units remain constant, too.
Then we can study different glass thickness  by varying the number of blocks. 
In the initial model we had 8 blocks. 
By recalculating with 16 blocks we get the relative values for double thickness 
with still arbitrary but same time units.

<h3> Nailing it to reality</h3>
Up to now the model is used in arbitrary units. 
We do not know the scale of thickness, not
the size of the time unit. These two dimensions are related, however. 
To nail these values
into reality we need to compare them with a reliable source of physical data.
<p/>
For the reference I have selected the BE 3" annealin chart. The reason was that in the
previous BE table the 3" slab had a thermocouple in the core of the glass.
So it measures in physical world the same heat difference we have simulated here.
 The best reference is the first soak phase, where the thermal difference of
 core and surface is kept within 5 deg C. I did simulate that, adjusting the ramp
 rate of the model until the 5 C criteria was met.
 <p/>
 In the simulation experiment the ramp from 482 to 427 took 628 time units.
 The BE chart gives a time lapse of 32.35 hrs (hours in decimal notation).
 Those figures are made to match by taking 0.022 hrs as time unit lengt.
 The soak time is converted to real time with this value, so is second ramp time.
 The final cooling is not simulated as I have no knowledge about the right critera.
 When we fixed the time unit, also the length unit becomes known. The 3# model had 24
 blocks, thus a block is 1/8th" cube.
 <table border>
  <tr>
    <td> <img src="./simufig-7.jpg"> <br> Fig 5 75 mm comparison.</td> 
     
    The time line base is selected so that the lines cross at the begin of first ramp..</td> 
  </tr> 
 </table>
  In fig 5 The red curve is the simulated core temperature and 
  blue curve is from BE chart.
   Note that only the ramp 1 between the black lines are adjusted, the rest is simulated.
   The match is rather good. For soak period, 
   the BE chart gives only end points, while the simulation
   describes the descent of core temperature.
   <p/>
   For other thickness values there is more discrepancy.
   
<h2>Comparision Table</h2>
In the table below the simulated values (yellow) is compared with BE data (Blue).
Note that the 3" First soak (numbers in red) is the only value used 
to scale the time units.
All other values are calculated with that time unit/hour ratio. 
The times are hours in decimal form.<br>
  <img src="./simufig-9.jpg" width="75%"> <br> 
  Table 2. Comparision of BE and simulated annealing schedules.
  <p/>
  A dramatic diffence is in soaking times. That in fact motivated this study.
 There is plenty of proof that BE annealing schedules work. The simulation is
 idealized, and does not reflect all real time complications. In real life
 the large sheets are annealed on a kiln shelf. For thin glass the time
 needed to cool the shelf is significant.
 <p/>
 For thicker glass the simulated soak times are longer. 
 That I believe to reflect the real situation
 and gives shorter soak times.
 It appears that the <i>when thickness is doubled, 
 the soak time grows about 3.8 times.</i>
 That is against all schedules I have seen before, 
 though the "Fibonacci Schedule" is close to that.
 If it is true it is worth of further research.
 <table border>
  <tr>
    <td> From</td> <td>&nbsp;To&nbsp;</td> <td>ratio</td>  
  </tr>
  <tr>
    <td> 1"</td><td>&nbsp;2"&nbsp;</td> <td>3.83</td> 
    </tr>
    <tr>
    <td> 1 1/2"</td> <td>&nbsp;3"&nbsp;</td> <td>3.82</td>
  </tr>
  <tr>
    <td> 2"</td><td>&nbsp;4"&nbsp;</td><td>3.78</td>    
  </tr>
 </table>
 <p/>
 The second ramps are all the way somewhat shorter. 
 All soak times are sensitive to the precision of rate. In a numeric model it is easier
 to adjust the optimal rate.
 <p/>
 The final ramps were not simulated as I have no criteria for the ramp rates.

<h3> Asymmetric cooling</h3>
Double side cooling and one-sided cooling are not clear cut either or question.
When the glass sheet lies on a shelf it can cool from both sides, 
although at different rate.
<p/>
HEre is an example. The layout is 1" glass on 1/2" mullite shelf. 
The heat transmission capacity of mullite is here a <i>wild guess</i>. I have no data 
to back up it. A rate of 2/3 is assumed. 
<p/>
When two different materials are used, a weighted average is needed. The glass has
"r"-value of 1 and mullite is given a value of 2/3. The marked square has a formula <br>
( [r-1c-1])/1+[r-1c]/(2/3)+[r-1C+1]/[2/3] ) / ( 1+3/2+3/2) <br>
Weighted sum divided by sum of weight <br>
<p/>
  <img src="./simufig-11.jpg" width="75%"> <br> 
Table 3. Calculating assymetric cooling 
<p/>
The result is that the hottest point is shifted towards the shelf. In the picture below
one can see that in the modelled case that happens to coincide with 1/12" glass.
For a thin glass the hot point is within the shelf. Then the glass behaves as single sided
cooling. That is because the glass with higher "r"-value can dissipate heat quicker
than the shelf is feedeng in. For a thick glass the relative role of the shelf
is much less and "double for one-sided" is over conservative.<br>
That is why it works although many users apply the BE doubled-sided table directly when
annealing on a shelf.
<p/>
  <img src="./simufig-10.jpg" width="50%"> <br> 
  Fig 6. Asymmetric cooling of 1" glass compared with symmetric cooling.
  The time scale is in arbitrary time units.
<p/>
In the figure above the blue is the annealing curve of symmetrically cooled
1" slab. The red is simulated assymmetric cooling  and the green is symmetric
cooling of 1½ slab. The closeness of red and green curves  is incidental.
Unfortunately people have shelves of different thickness and different materials like
mullite, silimanite, Dyson, fiberboard. The asymmetry can not be included in
universal annealing tables. In special cases it is worth of simulating as it saves
a lot of time in thick casts.

 <h3>Discussion</h3>
 
 The fit of the model is surprisingly reasonable. 
 The simplicity makes it quite versatile.
 It is possible f.ex simulate the asymmetry of cooling that is due to a shelf or mould.
 All is needed is a  heat conductivity factor relative to glass. 
 <p/>
 The first part of this article was made with quite crude 8 segment model.
 For the comparison table 8-32 segments were used to simulate different
 thikness. In Excel version 12-24 segments are practical. If separatedly programmed,
 much more precision is possible.
 <p/>
 The model does not replace real world tests but it 
 can be used to predict experimental range needed.
 What it does is to help understanding what and when happens in the cooling process.
 
 <p/>
 This one-dimensional model was made in Excel. 
 Excel is not the best platform for iterative procedures..
 A much faster tool is possible with some programming skills.

</html>